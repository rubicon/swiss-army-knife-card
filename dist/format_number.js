var NumberFormat;(r=>{r.language="language",r.system="system",r.comma_decimal="comma_decimal",r.decimal_comma="decimal_comma",r.space_comma="space_comma",r.none="none"})(NumberFormat=NumberFormat||{});let isNumericState=r=>isNumericFromAttributes(r.attributes),round=(r,t=2)=>Math.round(r*10**t)/10**t,isNumericFromAttributes=r=>!!r.unit_of_measurement||!!r.state_class,numberFormatToLocale=r=>{switch(r.number_format){case NumberFormat.comma_decimal:return["en-US","en"];case NumberFormat.decimal_comma:return["de","es","it"];case NumberFormat.space_comma:return["fr","sv","cs"];case NumberFormat.system:return;default:return r.language}},formatNumber=(t,r,e)=>{var m=r?numberFormatToLocale(r):void 0;if(Number.isNaN=Number.isNaN||function r(t){return"number"==typeof t&&r(t)},r?.number_format!==NumberFormat.none&&!Number.isNaN(Number(t))&&Intl)try{return new Intl.NumberFormat(m,getDefaultFormatOptions(t,e)).format(Number(t))}catch(r){return console.error(r),new Intl.NumberFormat(void 0,getDefaultFormatOptions(t,e)).format(Number(t))}return!Number.isNaN(Number(t))&&""!==t&&r?.number_format===NumberFormat.none&&Intl?new Intl.NumberFormat("en-US",getDefaultFormatOptions(t,{...e,useGrouping:!1})).format(Number(t)):"string"==typeof t?t:""+round(t,e?.maximumFractionDigits).toString()+("currency"===e?.style?" "+e.currency:"")},getNumberFormatOptions=(r,t)=>{t=t?.display_precision;return null!=t?{maximumFractionDigits:t,minimumFractionDigits:t}:Number.isInteger(Number(r.attributes?.step))&&Number.isInteger(Number(r.state))?{maximumFractionDigits:0}:void 0},getDefaultFormatOptions=(r,t)=>{var e={maximumFractionDigits:2,...t};return"string"!=typeof r||t&&(void 0!==t.minimumFractionDigits||void 0!==t.maximumFractionDigits)||(t=-1<r.indexOf(".")?r.split(".")[1].length:0,e.minimumFractionDigits=t,e.maximumFractionDigits=t),e};export{isNumericState,round,isNumericFromAttributes,numberFormatToLocale,formatNumber,getNumberFormatOptions,getDefaultFormatOptions};