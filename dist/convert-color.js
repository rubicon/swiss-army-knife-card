import{expandHex}from"./hex";let rgb_hex=r=>{r=Math.round(Math.min(Math.max(r,0),255)).toString(16);return 1===r.length?"0"+r:r},hex2rgb=r=>(r=expandHex(r),[parseInt(r.substring(0,2),16),parseInt(r.substring(2,4),16),parseInt(r.substring(4,6),16)]),rgb2hex=r=>"#"+rgb_hex(r[0])+rgb_hex(r[1])+rgb_hex(r[2]),Xn=.95047,Yn=1,Zn=1.08883,t0=.137931034,t1=.206896552,t2=.12841855,t3=.008856452,rgb_xyz=r=>(r/=255)<=.04045?r/12.92:((r+.055)/1.055)**2.4,xyz_lab=r=>r>t3?r**(1/3):r/t2+t0,xyz_rgb=r=>255*(r<=.00304?12.92*r:1.055*r**(1/2.4)-.055),lab_xyz=r=>r>t1?r*r*r:t2*(r-t0),rgb2xyz=r=>{var[r,b,g]=r,r=rgb_xyz(r),b=rgb_xyz(b),g=rgb_xyz(g);return[xyz_lab((.4124564*r+.3575761*b+.1804375*g)/Xn),xyz_lab((.2126729*r+.7151522*b+.072175*g)/Yn),xyz_lab((.0193339*r+.119192*b+.9503041*g)/Zn)]},rgb2lab=r=>{var[r,b,g]=rgb2xyz(r),t=116*b-16;return[t<0?0:t,500*(r-b),200*(b-g)]},lab2rgb=r=>{var[r,b,g]=r,r=(r+16)/116,b=isNaN(b)?r:r+b/500,g=isNaN(g)?r:r-g/200,r=Yn*lab_xyz(r),b=Xn*lab_xyz(b),g=Zn*lab_xyz(g);return[xyz_rgb(3.2404542*b-1.5371385*r-.4985314*g),xyz_rgb(-.969266*b+1.8760108*r+.041556*g),xyz_rgb(.0556434*b-.2040259*r+1.0572252*g)]},lab2hex=r=>{r=lab2rgb(r);return rgb2hex(r)},rgb2hsv=r=>{var[r,b,g]=r,t=Math.max(r,b,g),x=t-Math.min(r,b,g),g=x&&(t===r?(b-g)/x:t===b?2+(g-r)/x:4+(r-b)/x);return[60*(g<0?g+6:g),t&&x/t,t]},hsv2rgb=r=>{let[b,g,t]=r;r=r=>{r=(r+b/60)%6;return t-t*g*Math.max(Math.min(r,4-r,1),0)};return[r(5),r(3),r(1)]},rgb2hs=r=>rgb2hsv(r).slice(0,2),hs2rgb=r=>hsv2rgb([r[0],r[1],255]);export{hex2rgb,rgb2hex,rgb2lab,lab2rgb,lab2hex,rgb2hsv,hsv2rgb,rgb2hs,hs2rgb};