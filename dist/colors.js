export default class Colors{static{Colors.colorCache={},Colors.element=void 0}static _prefixKeys(r){let o={};return Object.keys(r).forEach(e=>{var t="--"+e,e=String(r[e]);o[t]=""+e}),o}static processTheme(e){let t={},r={};let{modes:o,...l}=e;return o&&(r={...l,...o.dark},t={...l,...o.light}),{themeLight:Colors._prefixKeys(t),themeDark:Colors._prefixKeys(r)}}static processPalette(e){let o={},l={},a={};return Object.values(e).forEach(e=>{let{modes:t,...r}=e;o={...o,...r},t&&(a={...a,...r,...t.dark},l={...l,...r,...t.light})}),{paletteLight:Colors._prefixKeys(l),paletteDark:Colors._prefixKeys(a)}}static setElement(e){Colors.element=e}static calculateColor(t,r,o){var l=Object.keys(r).map(e=>Number(e)).sort((e,t)=>e-t);let a,s,i;var c=l.length;if(t<=l[0])return r[l[0]];if(t>=l[c-1])return r[l[c-1]];for(let e=0;e<c-1;e++){var n=l[e],u=l[e+1];if(n<=t&&t<u){if([a,s]=[r[n],r[u]],!o)return a;i=Colors.calculateValueBetween(n,u,t);break}}return Colors.getGradientValue(a,s,i)}static calculateColor2(t,r,o,l,a){var s=Object.keys(r).map(e=>Number(e)).sort((e,t)=>e-t);let i,c,n;var u=s.length;if(t<=s[0])return r[s[0]];if(t>=s[u-1])return r[s[u-1]];for(let e=0;e<u-1;e++){var C=s[e],f=s[e+1];if(C<=t&&t<f){if([i,c]=[r[C].styles[o][l],r[f].styles[o][l]],!a)return i;n=Colors.calculateValueBetween(C,f,t);break}}return Colors.getGradientValue(i,c,n)}static calculateValueBetween(e,t,r){return(Math.min(Math.max(r,e),t)-e)/(t-e)}static getColorVariable(e){e=e.substr(4,e.length-5);return window.getComputedStyle(Colors.element).getPropertyValue(e)}static getGradientValue(e,t,r){var e=Colors.colorToRGBA(e),t=Colors.colorToRGBA(t),o=1-r,l=Math.floor(e[0]*o+t[0]*r),a=Math.floor(e[1]*o+t[1]*r),s=Math.floor(e[2]*o+t[2]*r),e=Math.floor(e[3]*o+t[3]*r);return"#"+Colors.padZero(l.toString(16))+Colors.padZero(a.toString(16))+Colors.padZero(s.toString(16))+Colors.padZero(e.toString(16))}static padZero(e){return(e=e.length<2?"0"+e:e).substr(0,2)}static colorToRGBA(e){var t=Colors.colorCache[e];if(t)return t;let r=e;"var"===e.substr(0,3).valueOf()&&(r=Colors.getColorVariable(e));t=window.document.createElement("canvas"),t.width=t.height=1,t=t.getContext("2d"),t.clearRect(0,0,1,1),t.fillStyle=r,t.fillRect(0,0,1,1),t=[...t.getImageData(0,0,1,1).data];return Colors.colorCache[e]=t}static hslToRgb(e){var t=e.h/360,r=e.s/100,e=e.l/100;let o,l,a;function s(e,t,r){return r<0&&(r+=1),1<r&&--r,r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}return 0==r?o=l=a=e:(r=2*e-(e=e<.5?e*(1+r):e+r-e*r),o=s(r,e,t+1/3),l=s(r,e,t),a=s(r,e,t-1/3)),o*=255,l*=255,a*=255,{r:o,g:l,b:a}}}